#
# Dependencies:
#

New Syntax {
	
	chunk ::= block

	block ::= {stat} [retstat [‘;’]]

	basicstat ::= ‘;’
		| varlist ‘=’ explist
		| functioncall
		| ‘break’
		| ‘goto’ Name

	stat ::=  basicstat
		| label
		| ‘{’ block ‘}’
		| ‘while’ ‘(’ exp ‘)’ statOrRet
		| ‘repeat’ statOrRetOsc ‘until’ exp
		| ifcond [statOrRetOsc {‘else’ ifcond statOrRetOsc} ‘else’ [ifcond]] statOrRet
		| ‘for’ uncondDestrPat ‘=’ ‘(’ exp ‘,’ exp [‘,’ exp] ‘)’ statOrRet
		| ‘for’ uncondDestrPat ‘in’ ‘(’ exp ‘)’ statOrRet
		| ‘local’ namelist [‘=’ explist]


	retstat ::= return [explist]

	ifcond ::= ‘if’ ‘(’ exp ‘)’

	basicstatOrRet ::= retstat | basicstat
	statOrRet ::= (basicstatOrRet ‘;’) | ‘{’ block ‘}’
	statOrRetNsc ::= basicstatOrRet | ‘{’ block ‘}’
	statOrRetOsc ::= statOrRet | statOrRetNsc

	label ::= ‘:::’ Name ‘:’

	funcname ::= Name {‘.’ Name} [‘:’ Name]

	varlist ::= var {‘,’ var}

	varbase ::= [‘*’] Name | ‘(’ exp ‘)’ subvar | ‘*’ ‘(’ exp ‘)’
	subvar ::= {args} (‘[’ exp ‘]’ | ‘.’ Name)
	var ::= varbase {subvar}

	namelist ::= Name {‘,’ Name}

	explist ::= exp {‘,’ exp}

	exp ::=  Numeral | LiteralString
		| prefixexp | functioncall | tableconstructor | exp binop exp | {unop} exp {postunop}

	prefixexp ::= var | ‘(’ exp ‘)’
	functioncall ::=  prefixexp args | prefixexp ‘:’ Name args 
	
	prefixexpBfuncArgs ::= var | functioncallBasicArgs | ‘(’ exp ‘)’
	functioncallBasicArgs ::=  prefixexpBfuncArgs basicargs | prefixexpBfuncArgs ‘:’ Name basicargs 

	basicargs ::=  ‘(’ [explist] ‘)’
	args ::=  basicargs | tableconstructor | LiteralString 

	tableconstructor ::= ‘{’ [fieldlist] ‘}’

	fieldlist ::= field {fieldsep field} [fieldsep]

	field ::= ‘[’ exp ‘]’ ‘=’ exp | Name ‘=’ exp | exp

	fieldsep ::= ‘,’ | ‘;’

	binop ::=  ‘+’ | ‘-’ | ‘*’ | ‘/’ | ‘//’ | ‘^’ | ‘%’
		| ‘&’ | ‘~’ | ‘|’ | ‘>>’ | ‘<<’ | ‘..’
		| ‘<’ | ‘<=’ | ‘>’ | ‘>=’ | ‘==’ | ‘!=’
		| ‘and’ | ‘or’

	unop ::= ‘-’ | ‘!’
	
	postunop ::=
}

New Keywords {
	and
	break
	do
	else
	false
	for
	function
	goto
	if
	in
	local
	nil
	not
	or
	repeat
	return
	true
	until
	while
}